getwd()
grepl("test", "TEST")
grepl("test", "test")
getwd()
setwd("~/Work/Development/data/DataStories/aging/raw")
require(reshape)
require(reshape2)
pyramid <- read.csv("pyramiddata.csv", stringsAsFactors=FALSE)
View(pyramid)
pyramid.melt <- melt(pyramid, id.vars=c("year", "sex"))
View(pyramid.melt)
names(pyramid.melt)
pyramid.melt <- melt(pyramid, id.vars=c("sex", "year"))
names(pyramid.melt)
names(pyramid.melt) <- c("sex", "year", "age", "people")
pyramid.melt$age <- sapply(pyramid.melt$age, function(x) {
gsub("X","",x)
})
View(pyramid.melt)
write.csv(file="longpyramid.csv", pyramid.melt, row.names=FALSE)
